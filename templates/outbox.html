{% extends "base.html" %}
{% block title %}Outbox{% endblock %}
{% block content %}
{% with messages = get_flashed_messages() %}
    {% if messages %}
        <div class="alert alert-info" role="alert">
            {{ messages[0] }}
        </div>
    {% endif %}
{% endwith %}
<br>
<div style="background-image: url(../../static/photos/Outbox_Background.jpg); background-size: cover; height: 70%;">
      <h2 class="Title">Outbox</h2>
      <p class="Sub">Outbox, a thrift store, offers a curated selection of pre-loved items ranging from clothing to household goods, providing sustainable shopping options at affordable prices</p>
</div>
<form method="post" action="{{ url_for('filter_outbox') }}" class="mb-3">
    <div class="input-group" style="width: 30%;margin-left:auto;">
        <select name="category" class="form-select" aria-label="Select Category">
            <option value="" selected>All Categories</option>
            {% for category in categories %}
                <option value="{{ category }}">{{ category }}</option>
            {% endfor %}
        </select>
        <button type="submit" class="btn btn-primary">Filter by Category</button>
    </div>
</form>
<style>
    .card:hover {
        box-shadow: 3px 4px 8px rgba(0, 0, 0, 0.3);
        transition: box-shadow 0.2s ease-in-out;
    }
</style>

<div class="row">
    {% for product in outbox_products %}
    <div class="col-md-4 mb-4">
        <div class="card">
            <div class="card-body">
                <p><img src="{{ url_for('static', filename='uploads/' + product.get_image()) }}" alt="Product Image"
                        style="width: 400px;"></p>
                <h3 class="card-title">{{ product.get_name() }}</h3>
                <p class="card-text">Price: ${{ product.get_price() }}</p>
                <p class="card-text">Category: {{ product.get_category() }}</p>
                <p class="card-text">Remarks: {{ product.get_remarks() }}</p>
                <p class="card-text">Drinks: {{ product.get_drinks() }}</p>

                <a href="{{ url_for('add_to_outbox', product_id=product.get_product_id()) }}" class="btn btn-primary">Add
                    to Cart</a>
                <a href="{{ url_for('view_more', product_id=product.get_product_id()) }}" class="btn btn-primary">View
                    More</a>

            </div>
        </div>
    </div>
    {% endfor %}
</div>
<a href="{{ url_for('view_cart') }}" class="btn btn-success mt-3">View Cart</a>
{% endblock %}
